@helper CreateCanonicalLink(string relativePath) 
{
    if (String.IsNullOrWhiteSpace(relativePath)) { return; }

    if (relativePath.IndexOf(@"/") != 0)
    {
        relativePath = @"/" + @relativePath;
    }
    
    var url = "http://brentnewbury.com" + relativePath;

<link rel="canonical" href="@url" />
}

@helper CreateAnalyticsJs()
{
    if (Request.Url.IsLoopback) { return; } // Don't output analytics for local requests

    <script type="text/javascript">
        var appInsights = window.appInsights || function (config) {
            function s(config) { t[config] = function () { var i = arguments; t.queue.push(function () { t[config].apply(t, i) }) } } var t = { config: config }, r = document, f = window, e = "script", o = r.createElement(e), i, u; for (o.src = config.url || "//az416426.vo.msecnd.net/scripts/a/ai.0.js", r.getElementsByTagName(e)[0].parentNode.appendChild(o), t.cookie = r.cookie, t.queue = [], i = ["Event", "Exception", "Metric", "PageView", "Trace"]; i.length;) s("track" + i.pop()); return config.disableExceptionTracking || (i = "onerror", s("_" + i), u = f[i], f[i] = function (config, r, f, e, o) { var s = u && u(config, r, f, e, o); return s !== !0 && t["_" + i](config, r, f, e, o), s }), t
        }({
            instrumentationKey: "155888f1-48c5-4afa-9c3b-af6b7006da68"
        });

        window.appInsights = appInsights;
        appInsights.trackPageView();
    </script>
}

@helper CreateFaviconLinks()
{

    <!-- Favicons and pinned site icons -->
    <link rel="apple-touch-icon" sizes="57x57" href="//az680800.vo.msecnd.net/cdn/img/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="//az680800.vo.msecnd.net/cdn/img/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="//az680800.vo.msecnd.net/cdn/img/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="//az680800.vo.msecnd.net/cdn/img/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="//az680800.vo.msecnd.net/cdn/img/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="//az680800.vo.msecnd.net/cdn/img/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="//az680800.vo.msecnd.net/cdn/img/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="//az680800.vo.msecnd.net/cdn/img/apple-touch-icon-152x152.png">
    <link rel="icon" type="image/png" href="//az680800.vo.msecnd.net/cdn/img/favicon-196x196.png" sizes="196x196">
    <link rel="icon" type="image/png" href="//az680800.vo.msecnd.net/cdn/img/favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="//az680800.vo.msecnd.net/cdn/img/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="//az680800.vo.msecnd.net/cdn/img/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="//az680800.vo.msecnd.net/cdn/img/favicon-32x32.png" sizes="32x32">
    <meta name="application-name" content="Brent Newbury's Website">
    <meta name="msapplication-config" content="//az680800.vo.msecnd.net/cdn/browserconfig.xml">
    <meta name="msapplication-TileColor" content="#1c8bbf">
    <meta name="msapplication-navbutton-color" content="#1c8bbf" />
    <meta name="msapplication-TileImage" content="//az680800.vo.msecnd.net/cdn/img/mstile-144x144.png" />
}